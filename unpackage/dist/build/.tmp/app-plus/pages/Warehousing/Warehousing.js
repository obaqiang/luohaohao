(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Warehousing/Warehousing"],{"22bb":function(t,s,a){"use strict";a.r(s);var n=a("8251"),e=a("9974");for(var i in e)"default"!==i&&function(t){a.d(s,t,function(){return e[t]})}(i);a("570a");var o=a("2877"),c=Object(o["a"])(e["default"],n["a"],n["b"],!1,null,null,null);s["default"]=c.exports},"273b":function(t,s,a){"use strict";a("72e6");var n=i(a("b0ce")),e=i(a("22bb"));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(e.default))},"489e":function(t,s,a){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=o(a("1ea7")),e=o(a("fbdb")),i=a("2f62");function o(t){return t&&t.__esModule?t:{default:t}}function c(t){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),n.forEach(function(s){_(t,s,a[s])})}return t}function _(t,s,a){return s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}var r={components:{loadingWait:e.default,bindScanInput:n.default},data:function(){return{scan_a:"",scan_b:"",scan_c:"",scan_d:"",scan_e:"",scan_f:"",billCode:"",billDate:"",id:"",instockQty:"",passQty:"",qty:"",scanQty:"",waitQty:"",receipts_data:"",BarCode:"",scan_input_value:"",scan_input_foc:!1,LocationCode:"",InstockQty:"",status:"",maxAllowQty:"",materialCode:"",materialName:"",barcodeInitQty:"",barcodeInstockQty:"",loading_wait_show:!1,scan_info_area_show:!1,scan_input_foc_a:!0,scan_input_foc_b:!1,scan_input_foc_c:!1,scan_input_value_a:"",scan_input_value_b:"",scan_input_value_c:"",text_right_area_icon:"../../static/img/text_right_area_icon.png",GetMaxAllowInstockQty_url:"",Instock_url:"",BarcodeAllowMultiLocation_show:!0,creationTime:""}},computed:{i18n:function(){return this.$t("Warehousing")},connect_url:function(){return this.$store.state.connect_url},current_language:function(){return this.$store.state.current_language},post_header:function(){return this.$store.state.post_header},MAC:function(){return this.$store.state.MAC},permissionCode:function(){return t.getStorageSync("WarehousingOperation_permissionCode")}},onNavigationBarButtonTap:function(s){t.navigateTo({url:"../DetailsOfDocumentsA/DetailsOfDocumentsA"})},methods:c({},(0,i.mapMutations)(["MacInfo"]),(0,i.mapMutations)(["changeToken"]),(0,i.mapMutations)(["changeOrgId"]),(0,i.mapMutations)(["ErrRequestShow"]),{deleteData:function(){t.navigateTo({url:"../Warehousing/Warehousing"})},initInputStatus:function(){this.scan_input_foc_a=!1,this.scan_input_foc_b=!1,this.scan_input_foc_c=!1},onInputA:function(t){this.initInputStatus(),this.scan_input_foc_a=!0,this.scan_input_value_a=t},onInputB:function(t){this.initInputStatus(),this.scan_input_foc_b=!0,this.scan_input_value_b=t},onInputC:function(t){this.initInputStatus(),this.scan_input_foc_c=!0,this.scan_input_value_c=t},workA:function(){this.initInputStatus(),this.GetMaxAllowInstockQty()},workB:function(){this.initInputStatus(),this.scan_input_foc_c=!0},workC:function(){this.initInputStatus(),this.Instock()},getReceiptsData:function(){this.receipts_data=t.getStorageSync("receipts_data"),this.billCode=this.receipts_data.billCode,console.log(this.receipts_data),this.receipts_data.billDate&&(this.billDate=this.receipts_data.billDate.slice(0,16).replace("T"," ")),this.receipts_data.creationTime&&(this.creationTime=this.receipts_data.creationTime.slice(0,16).replace("T"," ")),this.id=this.receipts_data.id,this.instockQty=this.receipts_data.instockQty,this.passQty=this.receipts_data.passQty,this.qty=this.receipts_data.qty,this.scanQty=this.receipts_data.scanQty,this.waitQty=this.receipts_data.waitQty,this.status=this.receipts_data.status,console.log(this.status)},initData:function(){var t=this;t.scan_input_value="",t.materialCode="",t.materialName="",t.barcodeInitQty="",t.barcodeInstockQty="",t.scan_info_area_show=!1,t.scan_input_foc_a=!0,t.scan_input_foc_b=!1,t.scan_input_foc_c=!1,t.scan_input_value_a="",t.scan_input_value_b="",t.scan_input_value_c=""},NoMaxAllowQty:function(){var s=this;s.scan_input_foc_b=!0,s.scan_input_foc_c=!1,t.showToast({icon:"none",title:s.i18n.toast_a,duration:2e3})},GetMaxAllowInstockQty:function(){var s=this;s.loading_wait_show=!0,t.request({url:s.connect_url+s.GetMaxAllowInstockQty_url,data:{MAC:s.MAC,BillCode:s.billCode,BarCode:s.scan_input_value_a},method:"POST",header:s.post_header,success:function(t){s.loading_wait_show=!1,console.log(t.data),s.ErrRequestShow(t),1==t.data.success?(s.scan_input_foc_c=!0,console.log(s.scan_input_value),s.scan_info_area_show=!0,s.maxAllowQty=t.data.result.maxAllowQty,s.scan_input_value_b=s.maxAllowQty,s.materialCode=t.data.result.materialCode,s.materialName=t.data.result.materialName,s.barcodeInitQty=t.data.result.barcodeInitQty,s.barcodeInstockQty=t.data.result.barcodeInstockQty):(s.scan_input_value_a="",s.initInputStatus(),s.scan_input_foc_a=!0)}})},Instock:function(){var s=this;s.maxAllowQty>s.scan_input_value_b-1&&s.scan_input_value_b>0?(s.loading_wait_show=!0,t.request({url:s.connect_url+s.Instock_url,data:{MAC:s.MAC,BillCode:s.billCode,LocationCode:s.scan_input_value_c,BarCode:s.scan_input_value_a,InstockQty:s.scan_input_value_b},method:"POST",header:s.post_header,success:function(a){s.loading_wait_show=!1,console.log(a.data),s.ErrRequestShow(a),1==a.data.success?(console.log(a),s.status=a.data.result.status,s.initData(),t.showModal({title:s.i18n.modal_a,content:s.i18n.entry_success,success:function(t){t.confirm||t.cancel}})):(s.scan_input_value_c="",s.initInputStatus(),s.scan_input_foc_c=!0,console.log("zheli "))},fail:function(t){console.log(t)}})):s.NoMaxAllowQty()}}),onLoad:function(){var s=this,a="";s.BarcodeAllowMultiLocation_show=t.getStorageSync("BarcodeAllowMultiLocation_show"),console.log(s.BarcodeAllowMultiLocation_show),this.getReceiptsData(),"Pages.WPDA.Instock.Storage.PurInstock"==s.permissionCode?(s.GetMaxAllowInstockQty_url="api/services/wmspda/PurInstock/GetMaxAllowInstockQty",s.Instock_url="api/services/wmspda/PurInstock/Instock",a=s.i18n.page_title):"Pages.WPDA.Instock.ReturnMaterial.ProductReturn"==s.permissionCode?(s.GetMaxAllowInstockQty_url="api/services/wmspda/ProductReturn/GetMaxAllowInstockQty",s.Instock_url="api/services/wmspda/ProductReturn/Instock",a=s.i18n.page_title_a):"Pages.WPDA.Instock.Storage.PorductInstock"==s.permissionCode?(s.GetMaxAllowInstockQty_url="api/services/wmspda/ProductInstock/GetMaxAllowInstockQty",s.Instock_url="api/services/wmspda/ProductInstock/Instock",a=s.i18n.page_title_b):"Pages.WPDA.Instock.Storage.OtherInstock"==s.permissionCode?(s.GetMaxAllowInstockQty_url="api/services/wmspda/OtherInstock/GetMaxAllowInstockQty",s.Instock_url="api/services/wmspda/OtherInstock/Instock",a=s.i18n.page_title_c):"Pages.WPDA.Instock.ReturnMaterial.SalesReturn"==s.permissionCode?(s.GetMaxAllowInstockQty_url="api/services/wmspda/SalesReturn/GetMaxAllowInstockQty",s.Instock_url="api/services/wmspda/SalesReturn/Instock",a=s.i18n.page_title_d):"Pages.WPDA.Instock.Storage.ProductTransferIn"==s.permissionCode?(s.GetMaxAllowInstockQty_url="api/services/wmspda/InTransfer/GetMaxAllowInstockQty",s.Instock_url="api/services/wmspda/InTransfer/Instock",a=s.i18n.page_title_e):"Pages.WPDA.Instock.Storage.OutstouceTransferIn"==s.permissionCode?(s.GetMaxAllowInstockQty_url="api/services/wmspda/InTransfer/GetMaxAllowInstockQty",s.Instock_url="api/services/wmspda/InTransfer/Instock",a=s.i18n.page_title_f):"Pages.WPDA.OutStock.Product.ProductTransferOut"==s.permissionCode||"Pages.WPDA.OutStock.Outsource.OutstouceTransferOut"==s.permissionCode||"Pages.WPDA.StockIn.TransferAdjust.OutTransfer"==s.permissionCode?("Pages.WPDA.OutStock.Product.ProductTransferOut"==s.permissionCode?a=s.i18n.page_title_g_a:"Pages.WPDA.OutStock.Outsource.OutstouceTransferOut"==s.permissionCode?a=s.i18n.page_title_g_b:"Pages.WPDA.StockIn.TransferAdjust.OutTransfer"==s.permissionCode&&(a=s.i18n.page_title_g_c),s.GetMaxAllowInstockQty_url="api/services/wmspda/InTransfer/GetMaxAllowInstockQty",s.Instock_url="api/services/wmspda/InTransfer/Instock"):"Pages.WPDA.StockIn.TransferAdjust.InTransfer"==s.permissionCode?(s.GetMaxAllowInstockQty_url="api/services/wmspda/InTransfer/GetMaxAllowInstockQty",s.Instock_url="api/services/wmspda/InTransfer/Instock",a=s.i18n.page_title_h):"Pages.WPDA.StockIn.Convert.InConvert"==s.permissionCode&&(s.GetMaxAllowInstockQty_url="api/services/wmspda/InConvert/GetMaxAllowInstockQty",s.Instock_url="api/services/wmspda/InConvert/Instock",a=s.i18n.page_title_i),t.setNavigationBarTitle({title:a}),this.scan_a=this.i18n.scan_a,this.scan_b=this.i18n.scan_b,this.scan_c=this.i18n.scan_c,this.scan_d=this.i18n.scan_d,this.scan_e=this.i18n.scan_e,this.scan_f=this.i18n.scan_f},onShow:function(){this.initInputStatus(),this.scan_input_foc_a=!0}};s.default=r}).call(this,a("6e42")["default"])},"570a":function(t,s,a){"use strict";var n=a("86dc"),e=a.n(n);e.a},8251:function(t,s,a){"use strict";var n=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("view",[a("view",{staticClass:"warehousing_info_area"},[a("view",{staticClass:"warehousing_info_list"},[a("text",{staticClass:"warehousing_info_list_a"},[t._v(t._s(t.i18n.order_num))]),a("text",{staticClass:"warehousing_info_list_b"},[t._v(t._s(t.billCode))])]),a("view",{staticClass:"warehousing_info_list"},[a("text",{staticClass:"warehousing_info_list_a"},[t._v(t._s(t.i18n.order_date))]),a("text",{staticClass:"warehousing_info_list_b"},[t._v(t._s(t.billDate)+t._s(t.creationTime))])]),"Pages.WPDA.Instock.Storage.PurInstock"!=t.permissionCode?a("view",{staticClass:"warehousing_info_list"},[a("text",{staticClass:"warehousing_info_list_a"},[t._v(t._s(t.i18n.order_status))]),1==t.status?a("text",{staticClass:"warehousing_info_list_b"},[t._v(t._s(t.i18n.status_a))]):t._e(),2==t.status?a("text",{staticClass:"warehousing_info_list_b"},[t._v(t._s(t.i18n.status_b))]):t._e(),7==t.status?a("text",{staticClass:"warehousing_info_list_b"},[t._v(t._s(t.i18n.status_c))]):t._e(),8==t.status?a("text",{staticClass:"warehousing_info_list_b"},[t._v(t._s(t.i18n.status_d))]):t._e()]):t._e(),"Pages.WPDA.Instock.Storage.PurInstock"==t.permissionCode?a("view",{staticClass:"warehousing_info_list"},[a("text",{staticClass:"warehousing_info_list_a"},[t._v(t._s(t.i18n.order_status))]),1==t.status?a("text",{staticClass:"warehousing_info_list_b"},[t._v(t._s(t.i18n.status_a))]):t._e(),2==t.status?a("text",{staticClass:"warehousing_info_list_b"},[t._v(t._s(t.i18n.status_f))]):t._e(),3==t.status?a("text",{staticClass:"warehousing_info_list_b"},[t._v(t._s(t.i18n.status_g))]):t._e(),4==t.status?a("text",{staticClass:"warehousing_info_list_b"},[t._v(t._s(t.i18n.status_h))]):t._e(),8==t.status?a("text",{staticClass:"warehousing_info_list_b"},[t._v(t._s(t.i18n.status_d))]):t._e()]):t._e()]),a("view",{staticClass:"warehousing_scan_area"},[a("view",{staticClass:"common_title"},[t._v(t._s(t.i18n.material_info))]),a("bindScanInput",{attrs:{scan_input_text:t.scan_b,scan_icon_show:!0,input_focus:t.scan_input_foc_a,eventid:"2ba4f178-0",mpcomid:"2ba4f178-0"},on:{input:t.onInputA,work:t.workA},model:{value:t.scan_input_value_a,callback:function(s){t.scan_input_value_a=s},expression:"scan_input_value_a"}}),t.BarcodeAllowMultiLocation_show?a("bindScanInput",{attrs:{scan_input_text:t.scan_f,scan_icon_show:!1,input_focus:t.scan_input_foc_b,eventid:"2ba4f178-1",mpcomid:"2ba4f178-1"},on:{input:t.onInputB,work:t.workB},model:{value:t.scan_input_value_b,callback:function(s){t.scan_input_value_b=s},expression:"scan_input_value_b"}}):t._e(),a("bindScanInput",{attrs:{scan_input_text:t.scan_d,scan_icon_show:!0,input_focus:t.scan_input_foc_c,eventid:"2ba4f178-2",mpcomid:"2ba4f178-2"},on:{input:t.onInputC,work:t.workC},model:{value:t.scan_input_value_c,callback:function(s){t.scan_input_value_c=s},expression:"scan_input_value_c"}})],1),t.scan_info_area_show?a("view",{staticClass:"scan_info_area"},[a("view",{staticClass:"common_title"},[t._v(t._s(t.i18n.text_a))]),a("view",{staticClass:"warehousing_info_list"},[a("text",{staticClass:"warehousing_info_list_a"},[t._v(t._s(t.i18n.maxAllowQty))]),a("text",{staticClass:"warehousing_info_list_b"},[t._v(t._s(t.maxAllowQty))])]),a("view",{staticClass:"warehousing_info_list"},[a("text",{staticClass:"warehousing_info_list_a"},[t._v(t._s(t.i18n.materialCode))]),a("text",{staticClass:"warehousing_info_list_b"},[t._v(t._s(t.materialCode))])]),a("view",{staticClass:"warehousing_info_list"},[a("text",{staticClass:"warehousing_info_list_a"},[t._v(t._s(t.i18n.materialName))]),a("text",{staticClass:"warehousing_info_list_b"},[t._v(t._s(t.materialName))])]),"Pages.WPDA.Instock.Storage.PurInstock"==t.permissionCode||"Pages.WPDA.Instock.Storage.PorductInstock"==t.permissionCode||"Pages.WPDA.Instock.Storage.OtherInstock"==t.permissionCode||"Pages.WPDA.Instock.Storage.ProductTransferIn"==t.permissionCode||"Pages.WPDA.Instock.Storage.OutstouceTransferIn"==t.permissionCode||"Pages.WPDA.Instock.ReturnMaterial.ProductReturn"==t.permissionCode||"Pages.WPDA.StockIn.Convert.InConvert"==t.permissionCode||"Pages.WPDA.StockIn.TransferAdjust.InTransfer"==t.permissionCode?a("view",{staticClass:"warehousing_info_list"},[a("text",{staticClass:"warehousing_info_list_a"},[t._v(t._s(t.i18n.barcodeInitQty))]),a("text",{staticClass:"warehousing_info_list_b"},[t._v(t._s(t.barcodeInitQty))])]):t._e(),a("view",{staticClass:"warehousing_info_list"},[a("text",{staticClass:"warehousing_info_list_a"},[t._v(t._s(t.i18n.barcodeInstockQty))]),a("text",{staticClass:"warehousing_info_list_b"},[t._v(t._s(t.barcodeInstockQty))])])]):t._e(),t.loading_wait_show?a("loadingWait",{attrs:{mpcomid:"2ba4f178-3"}}):t._e()],1)},e=[];a.d(s,"a",function(){return n}),a.d(s,"b",function(){return e})},"86dc":function(t,s,a){},9974:function(t,s,a){"use strict";a.r(s);var n=a("489e"),e=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(s,t,function(){return n[t]})}(i);s["default"]=e.a}},[["273b","common/runtime","common/vendor"]]]);