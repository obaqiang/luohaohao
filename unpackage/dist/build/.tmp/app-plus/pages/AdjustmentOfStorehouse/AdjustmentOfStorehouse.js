(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/AdjustmentOfStorehouse/AdjustmentOfStorehouse"],{"01fe":function(t,n,o){"use strict";o.r(n);var e=o("f990"),a=o("3255");for(var i in a)"default"!==i&&function(t){o.d(n,t,function(){return a[t]})}(i);o("e36b");var c=o("2877"),u=Object(c["a"])(a["default"],e["a"],e["b"],!1,null,null,null);n["default"]=u.exports},3255:function(t,n,o){"use strict";o.r(n);var e=o("f265"),a=o.n(e);for(var i in e)"default"!==i&&function(t){o.d(n,t,function(){return e[t]})}(i);n["default"]=a.a},"6d3b":function(t,n,o){"use strict";o("72e6");var e=i(o("b0ce")),a=i(o("01fe"));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,e.default)(a.default))},a0b3:function(t,n,o){},e36b:function(t,n,o){"use strict";var e=o("a0b3"),a=o.n(e);a.a},f265:function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=c(o("1ea7")),a=c(o("fbdb")),i=o("2f62");function c(t){return t&&t.__esModule?t:{default:t}}function u(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{},e=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(n){s(t,n,o[n])})}return t}function s(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}var r={components:{loadingWait:a.default,bindScanInput:e.default},data:function(){return{input_focus_a:!0,input_focus_b:!1,input_focus_c:!1,input_focus_d:!1,Barcode:"",SourceLocationCode:"",Qty:"",TargetLocationCode:"",loading_wait_show:!1,storageLotInfo:"",barcodeInfo:"",aa:"wpq "}},computed:{connect_url:function(){return this.$store.state.connect_url},current_language:function(){return this.$store.state.current_language},post_header:function(){return this.$store.state.post_header},i18n:function(){return this.$t("AdjustmentOfStorehouse")},i18n_modal:function(){return this.$t("modal_text")},MAC:function(){return this.$store.state.MAC},BarcodeAllowMultiLocation_show:function(){return t.getStorageSync("BarcodeAllowMultiLocation_show")}},methods:u({},(0,i.mapMutations)(["MacInfo"]),(0,i.mapMutations)(["changeToken"]),(0,i.mapMutations)(["changeOrgId"]),(0,i.mapMutations)(["ErrRequestShow"]),{initInputStatus:function(){this.input_focus_a=!1,this.input_focus_b=!1,this.input_focus_c=!1,this.input_focus_d=!1},initData:function(){this.Barcode="",this.SourceLocationCode="",this.Qty="",this.TargetLocationCode="",this.storageLotInfo="",this.barcodeInfo="",this.input_focus_a=!0},onInputA:function(t){this.initInputStatus(),this.input_focus_a=!0,this.Barcode=t},scanInputSucA:function(t){this.initInputStatus(),this.ScanBarcode()},onInputB:function(t){this.initInputStatus(),this.input_focus_b=!0,this.SourceLocationCode=t},scanInputSucB:function(t){this.initInputStatus(),this.input_focus_c=!0},onInputC:function(t){this.initInputStatus(),this.input_focus_c=!0,this.Qty=t},scanInputSucC:function(t){this.initInputStatus(),this.input_focus_d=!0},onInputD:function(t){this.initInputStatus(),this.input_focus_d=!0,this.TargetLocationCode=t},scanInputSucD:function(t){this.initInputStatus(),this.Adjust()},choLocation:function(t,n){var o=this;o.SourceLocationCode=t,o.Qty=n,o.initInputStatus(),o.input_focus_d=!0},ScanBarcode:function(){var n=this;n.loading_wait_show=!0,t.request({url:n.connect_url+"api/services/wmspda/LocationAdjust/ScanBarcode",data:{Barcode:n.Barcode,MAC:n.MAC},method:"POST",header:n.post_header,success:function(t){if(console.log(t.data),n.loading_wait_show=!1,n.ErrRequestShow(t),1==t.data.success){n.storageLotInfo=t.data.result.storageLotInfo;var o=[];o.push(t.data.result.barcodeInfo),n.barcodeInfo=o,n.BarcodeAllowMultiLocation_show?n.input_focus_b=!0:n.input_focus_d=!0,console.log(n.barcodeInfo),console.log(n.BarcodeAllowMultiLocation_show)}else n.Barcode="",n.initInputStatus(),n.input_focus_a=!0}})},Adjust:function(){var n=this;n.loading_wait_show=!0,t.request({url:n.connect_url+"api/services/wmspda/LocationAdjust/Adjust",data:{Barcode:n.Barcode,MAC:n.MAC,SourceLocationCode:n.SourceLocationCode,Qty:n.Qty,TargetLocationCode:n.TargetLocationCode},method:"POST",header:n.post_header,success:function(o){console.log(o.data),n.loading_wait_show=!1,n.ErrRequestShow(o),1==o.data.success?(t.showToast({icon:"none",title:n.i18n.toast_text_a,duration:3e3}),n.initInputStatus(),n.initData()):(n.TargetLocationCode="",n.input_foc_d=!0)}})}}),onLoad:function(){console.log(this.BarcodeAllowMultiLocation_show);var n="",o=t.getStorageSync("title_permissionName");""!=o&&(n=o),t.setNavigationBarTitle({title:n})}};n.default=r}).call(this,o("6e42")["default"])},f990:function(t,n,o){"use strict";var e=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("view",[o("bindScanInput",{attrs:{scan_input_text:t.i18n.scan_input_text_a,scan_icon_show:!0,input_focus:t.input_focus_a,placeholder_text:t.i18n.placeholder_text_a,eventid:"9c4d263c-0",mpcomid:"9c4d263c-0"},on:{input:t.onInputA,work:t.scanInputSucA},model:{value:t.Barcode,callback:function(n){t.Barcode=n},expression:"Barcode"}}),t.BarcodeAllowMultiLocation_show?o("bindScanInput",{attrs:{scan_input_text:t.i18n.scan_input_text_b,scan_icon_show:!0,input_focus:t.input_focus_b,placeholder_text:t.i18n.placeholder_text_b,eventid:"9c4d263c-1",mpcomid:"9c4d263c-1"},on:{input:t.onInputB,work:t.scanInputSucB},model:{value:t.SourceLocationCode,callback:function(n){t.SourceLocationCode=n},expression:"SourceLocationCode"}}):t._e(),t.BarcodeAllowMultiLocation_show?o("bindScanInput",{attrs:{scan_input_text:t.i18n.scan_input_text_c,scan_icon_show:!0,input_focus:t.input_focus_c,placeholder_text:t.i18n.placeholder_text_c,input_type:"number",eventid:"9c4d263c-2",mpcomid:"9c4d263c-2"},on:{input:t.onInputC,work:t.scanInputSucC},model:{value:t.Qty,callback:function(n){t.Qty=n},expression:"Qty"}}):t._e(),o("bindScanInput",{attrs:{scan_input_text:t.i18n.scan_input_text_d,scan_icon_show:!0,input_focus:t.input_focus_d,placeholder_text:t.i18n.placeholder_text_d,eventid:"9c4d263c-3",mpcomid:"9c4d263c-3"},on:{input:t.onInputD,work:t.scanInputSucD},model:{value:t.TargetLocationCode,callback:function(n){t.TargetLocationCode=n},expression:"TargetLocationCode"}}),t._l(t.barcodeInfo,function(n,e){return 0==t.BarcodeAllowMultiLocation_show?o("view",{key:e,staticClass:"purchase_list"},[o("view",{staticClass:"purchase_list_a"},[o("text",[t._v(t._s(n.locationCode))]),o("text",[t._v(t._s(n.materialCode))])]),o("view",{staticClass:"purchase_list_a"},[o("text",[t._v(t._s(n.materialName))]),o("text",[t._v(t._s(n.qty))])])]):t._e()}),t._l(t.storageLotInfo,function(n,e){return t.BarcodeAllowMultiLocation_show?o("view",{key:e,staticClass:"purchase_list",attrs:{eventid:"9c4d263c-4-"+e},on:{tap:function(o){t.choLocation(n.locationCode,n.qty)}}},[o("view",{staticClass:"purchase_list_a"},[o("text",[t._v(t._s(n.locationCode))]),o("text",[t._v(t._s(n.materialCode))])]),o("view",{staticClass:"purchase_list_a"},[o("text",[t._v(t._s(n.materialName))]),o("text",[t._v(t._s(n.qty))])])]):t._e()}),t.loading_wait_show?o("loadingWait",{attrs:{mpcomid:"9c4d263c-4"}}):t._e()],2)},a=[];o.d(n,"a",function(){return e}),o.d(n,"b",function(){return a})}},[["6d3b","common/runtime","common/vendor"]]]);