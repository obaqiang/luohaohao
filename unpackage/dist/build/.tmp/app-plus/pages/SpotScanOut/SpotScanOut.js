(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/SpotScanOut/SpotScanOut"],{"14a5":function(t,e,a){"use strict";a.r(e);var o=a("7407"),n=a.n(o);for(var i in o)"default"!==i&&function(t){a.d(e,t,function(){return o[t]})}(i);e["default"]=n.a},"185a":function(t,e,a){"use strict";a.r(e);var o=a("21d6"),n=a.n(o);for(var i in o)"default"!==i&&function(t){a.d(e,t,function(){return o[t]})}(i);e["default"]=n.a},"21d6":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={props:["SpotScanOutTable_data"],data:function(){return{}},computed:{i18n:function(){return this.$t("SpotScanOut")},ifshow:function(){return!!this.SpotScanOutTable_data[0].barCode}},methods:{}};e.default=o},"2b75":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={props:["onlyConfirmModal_text"],components:{},data:function(){return{}},methods:{onlyConfirmModalConfirm:function(){this.$emit("onlyConfirmModalConfirm",!0)}},onLoad:function(){}};e.default=o},3499:function(t,e,a){},"3f72":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"onlyConfirmModal_area"},[a("view",{staticClass:"onlyConfirmModal_mask"}),a("view",{staticClass:"onlyConfirmModal_show"},[a("text",{staticClass:"onlyConfirmModal_text_head"},[t._v("提示")]),a("view",{staticClass:"onlyConfirmModal_text"},[t._v(t._s(t.onlyConfirmModal_text))]),a("text",{staticClass:"onlyConfirmModal_confirm",attrs:{eventid:"6bebaae3-0"},on:{tap:t.onlyConfirmModalConfirm}},[t._v("确定")])])])},n=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return n})},"4d14":function(t,e,a){"use strict";a.r(e);var o=a("d379"),n=a("14a5");for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);var s=a("2877"),c=Object(s["a"])(n["default"],o["a"],o["b"],!1,null,null,null);e["default"]=c.exports},"5d81":function(t,e,a){"use strict";a.r(e);var o=a("3f72"),n=a("e186");for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);a("e73a");var s=a("2877"),c=Object(s["a"])(n["default"],o["a"],o["b"],!1,null,null,null);e["default"]=c.exports},7407:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(a("1ea7")),n=r(a("a4dc")),i=r(a("94b0")),s=r(a("fbdb")),c=r(a("5d81")),u=a("2f62");function r(t){return t&&t.__esModule?t:{default:t}}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},o=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),o.forEach(function(e){d(t,e,a[e])})}return t}function d(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var _={components:{bindScanInput:o.default,SpotScanOutTable:n.default,loadingWait:s.default,SpotScanOutHead:i.default,onlyConfirmModal:c.default},computed:{connect_url:function(){return this.$store.state.connect_url},current_language:function(){return this.$store.state.current_language},post_header:function(){return this.$store.state.post_header},i18n:function(){return this.$t("SpotScanOut")},i18n_modal:function(){return this.$t("modal_text")},MAC:function(){return this.$store.state.MAC},DetailId:function(){return t.getStorageSync("GetOutSourcePickDetail_data_detail").id},OutgoingOperation_permissionCode:function(){return t.getStorageSync("OutgoingOperation_permissionCode")}},watch:{},data:function(){return{input_focus_a:!0,input_focus_b:!1,Barcode:"",LocationCode:"",loading_wait_show:!1,SpotScanOutTable_data:"",SpotScanOutTable_show:!1,ScanBarcode_url:"",Outstock_url:"",GetOutSourcePickDetail_data_detail_send:"",onlyConfirmModal_text:"",onlyConfirmModal_show:!1,status_send:""}},methods:l({},(0,u.mapMutations)(["MacInfo"]),(0,u.mapMutations)(["ErrRequestShow"]),{onlyConfirmModalConfirm:function(){this.onlyConfirmModal_show=!1,t.navigateTo({url:"../SplitBarcode/SplitBarcode"})},initInputStatus:function(){this.input_focus_a=!1,this.input_focus_b=!1},onInputA:function(t){this.Barcode=t,this.initInputStatus(),this.input_focus_a=!0},workA:function(t){this.initInputStatus(),this.ScanBarcode()},onInputB:function(t){this.LocationCode=t,this.initInputStatus(),this.input_focus_b=!0},workB:function(t){this.initInputStatus(),this.Outstock()},ScanBarcode:function(){var e=this;e.loading_wait_show=!0,t.request({url:e.connect_url+e.ScanBarcode_url,data:{MAC:e.MAC,DetailId:e.DetailId,Barcode:e.Barcode},method:"POST",header:e.post_header,success:function(a){if(console.log(a.data),e.loading_wait_show=!1,e.ErrRequestShow(a),1==a.data.success){var o=a.data.result.fifo,n=a.data.result;null==o?(e.SpotScanOutTable_data=n.storageInfo,e.input_focus_b=!0,e.SpotScanOutTable_show=!0):0==o?t.showModal({title:e.i18n.show_modal.alert,content:e.i18n.show_modal.show_modal_content_a,cancelText:e.i18n.show_modal.show_modal_cancelText_a,confirmText:e.i18n.show_modal.show_modal_confirmText_a,success:function(t){t.confirm?(e.SpotScanOutTable_data=n.storageInfo,e.input_focus_b=!0,e.SpotScanOutTable_show=!0):t.cancel&&(e.SpotScanOutTable_data=n.needFIFOStorageInfo,e.input_focus_b=!0,e.SpotScanOutTable_show=!0)}}):1==o&&(e.initInputStatus(),t.showModal({title:e.i18n.show_modal.alert,content:e.i18n.show_modal.show_modal_content_b,cancelText:e.i18n.show_modal.show_modal_cancelText_b,confirmText:e.i18n.show_modal.show_modal_confirmText_b,success:function(t){t.confirm?(e.input_focus_a=!0,e.SpotScanOutTable_show=!0):t.cancel&&(e.input_focus_a=!0,e.SpotScanOutTable_show=!0)}}),e.SpotScanOutTable_data=n.needFIFOStorageInfo)}else e.Barcode="",e.initInputStatus(),e.input_focus_a=!0}})},Outstock:function(){var e=this,a=this;a.loading_wait_show=!0,t.request({url:a.connect_url+a.Outstock_url,data:{MAC:a.MAC,DetailId:a.DetailId,Barcode:a.Barcode,LocationCode:a.LocationCode},method:"POST",header:a.post_header,success:function(o){if(console.log(o.data),a.loading_wait_show=!1,a.ErrRequestShow(o),1==o.data.success){var n=o.data.result;if(a.GetOutSourcePickDetail_data_detail_send.storageQty=o.data.result.storageQty,a.GetOutSourcePickDetail_data_detail_send.spitQty=o.data.result.spitQty,1==n.isSpitBarcode)e.onlyConfirmModal_show=!0,e.onlyConfirmModal_text=e.i18n.onlyConfirmModal_text,t.setStorageSync("Barcode",a.Barcode),t.setStorageSync("LocationCode",a.LocationCode);else if(a.GetOutSourcePickDetail_data_detail_send.prQty=o.data.result.prQty,a.GetOutSourcePickDetail_data_detail_send.qty=o.data.result.qty,a.GetOutSourcePickDetail_data_detail_send.storageQty=o.data.result.storageQty,a.GetOutSourcePickDetail_data_detail_send.spitQty=o.data.result.spitQty,t.showToast({icon:"none",title:a.i18n.toast_text_a,duration:3e3}),o.data.result.qty>o.data.result.prQty||o.data.result.qty==o.data.result.prQty){a.status_send=o.data.result.status,console.log("aa数据"),console.log(a.GetOutSourcePickDetail_data_detail_send.status);var i=t.getStorageSync("BillCodeDetail");i.status=o.data.result.status,t.setStorageSync("BillCodeDetail",i),setTimeout(function(){t.navigateBack({})},1e3)}else{a.status_send=o.data.result.lineStatus,console.log("bb数据"),console.log(a.GetOutSourcePickDetail_data_detail_send.status);var s=t.getStorageSync("BillCodeDetail");s.status=o.data.result.lineStatus,t.setStorageSync("BillCodeDetail",s),a.Barcode="",a.LocationCode="",a.SpotScanOutTable_data="",a.SpotScanOutTable_show=!1,a.initInputStatus(),a.input_focus_a=!0}t.setStorageSync("GetOutSourcePickDetail_data_detail",a.GetOutSourcePickDetail_data_detail_send)}else a.LocationCode="",a.initInputStatus(),a.input_focus_b=!0}})}}),onLoad:function(){var e=this,a="";"Pages.WPDA.OutStock.Outsource.OutsourcePick"==e.OutgoingOperation_permissionCode?(e.ScanBarcode_url="api/services/wmspda/OutSourcePick/ScanBarcode",e.Outstock_url="api/services/wmspda/OutSourcePick/Outstock",a=e.i18n.page_title_a):"Pages.WPDA.OutStock.Outsource.OutsourceFeed"==e.OutgoingOperation_permissionCode?(e.ScanBarcode_url="api/services/wmspda/OutSourceFeed/ScanBarcode",e.Outstock_url="api/services/wmspda/OutSourceFeed/Outstock",a=e.i18n.page_title_b):"Pages.WPDA.OutStock.Product.ProductPick"==e.OutgoingOperation_permissionCode?(e.ScanBarcode_url="api/services/wmspda/ProductPick/ScanBarcode",e.Outstock_url="api/services/wmspda/ProductPick/Outstock",a=e.i18n.page_title_c):"Pages.WPDA.OutStock.Product.ProductFeed"==e.OutgoingOperation_permissionCode?(e.ScanBarcode_url="api/services/wmspda/ProductFeed/ScanBarcode",e.Outstock_url="api/services/wmspda/ProductFeed/Outstock",a=e.i18n.page_title_d):"Pages.WPDA.OutStock.Integrated.OtherOutstock"==e.OutgoingOperation_permissionCode?(e.ScanBarcode_url="api/services/wmspda/OtherOutstock/ScanBarcode",e.Outstock_url="api/services/wmspda/OtherOutstock/Outstock",a=e.i18n.page_title_e):"Pages.WPDA.OutStock.Integrated.PoReturn"==e.OutgoingOperation_permissionCode?(e.ScanBarcode_url="api/services/wmspda/PoReturn/ScanBarcode",e.Outstock_url="api/services/wmspda/PoReturn/Outstock",a=e.i18n.page_title_f):"Pages.WPDA.OutStock.Sales.SalesOutstock"==e.OutgoingOperation_permissionCode?(e.ScanBarcode_url="api/services/wmspda/SalesOutstock/ScanBarcode",e.Outstock_url="api/services/wmspda/SalesOutstock/Outstock",a=e.i18n.page_title_g):"Pages.WPDA.StockIn.TransferAdjust.OutTransfer"==e.OutgoingOperation_permissionCode||"Pages.WPDA.OutStock.Product.ProductTransferOut"==e.OutgoingOperation_permissionCode||"Pages.WPDA.OutStock.Outsource.OutstouceTransferOut"==e.OutgoingOperation_permissionCode?(e.ScanBarcode_url="api/services/wmspda/OutTransfer/ScanBarcode",e.Outstock_url="api/services/wmspda/OutTransfer/Outstock",a=e.i18n.page_title_h):"Pages.WPDA.StockIn.Convert.OutConvert"==e.OutgoingOperation_permissionCode&&(e.ScanBarcode_url="api/services/wmspda/OutConvert/ScanBarcode",e.Outstock_url="api/services/wmspda/OutConvert/Outstock",a=e.i18n.page_title_i),t.setNavigationBarTitle({title:a})},onShow:function(){this.GetOutSourcePickDetail_data_detail_send=t.getStorageSync("GetOutSourcePickDetail_data_detail"),this.status_send=t.getStorageSync("BillCodeDetail").status,console.log(this.GetOutSourcePickDetail_data_detail_send)}};e.default=_}).call(this,a("6e42")["default"])},"8ecb":function(t,e,a){"use strict";var o=a("b59f"),n=a.n(o);n.a},a4dc:function(t,e,a){"use strict";a.r(e);var o=a("f8c8"),n=a("185a");for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);a("8ecb");var s=a("2877"),c=Object(s["a"])(n["default"],o["a"],o["b"],!1,null,null,null);e["default"]=c.exports},aa74:function(t,e,a){"use strict";a("72e6");var o=i(a("b0ce")),n=i(a("4d14"));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,o.default)(n.default))},b59f:function(t,e,a){},d379:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("SpotScanOutHead",{attrs:{GetOutSourcePickDetail_data_detail_send:t.GetOutSourcePickDetail_data_detail_send,status_send:t.status_send,mpcomid:"58132ba2-0"}}),a("view",{staticClass:"common_bg_line"}),a("bindScanInput",{attrs:{scan_input_text:t.i18n.scan_input_text_a,scan_icon_show:!0,input_focus:t.input_focus_a,placeholder_text:t.i18n.placeholder_text_a,eventid:"58132ba2-0",mpcomid:"58132ba2-1"},on:{input:t.onInputA,work:t.workA},model:{value:t.Barcode,callback:function(e){t.Barcode=e},expression:"Barcode"}}),a("bindScanInput",{attrs:{scan_input_text:t.i18n.scan_input_text_b,scan_icon_show:!0,input_focus:t.input_focus_b,placeholder_text:t.i18n.placeholder_text_b,eventid:"58132ba2-1",mpcomid:"58132ba2-2"},on:{input:t.onInputB,work:t.workB},model:{value:t.LocationCode,callback:function(e){t.LocationCode=e},expression:"LocationCode"}}),a("view",{staticClass:"common_bg_line"}),t.SpotScanOutTable_show?a("SpotScanOutTable",{attrs:{SpotScanOutTable_data:t.SpotScanOutTable_data,mpcomid:"58132ba2-3"}}):t._e(),t.loading_wait_show?a("loadingWait",{attrs:{mpcomid:"58132ba2-4"}}):t._e(),t.onlyConfirmModal_show?a("onlyConfirmModal",{attrs:{onlyConfirmModal_text:t.onlyConfirmModal_text,eventid:"58132ba2-2",mpcomid:"58132ba2-5"},on:{onlyConfirmModalConfirm:t.onlyConfirmModalConfirm}}):t._e()],1)},n=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return n})},e186:function(t,e,a){"use strict";a.r(e);var o=a("2b75"),n=a.n(o);for(var i in o)"default"!==i&&function(t){a.d(e,t,function(){return o[t]})}(i);e["default"]=n.a},e73a:function(t,e,a){"use strict";var o=a("3499"),n=a.n(o);n.a},f8c8:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"SpotScanOutTable_area"},[1==t.ifshow?a("view",[a("view",{staticClass:"SpotScanOutTable_th"},[a("text",{staticClass:"SpotScanOutTable_line_a"},[t._v(t._s(t.i18n.line_a))]),a("text",{staticClass:"SpotScanOutTable_line_b"},[t._v(t._s(t.i18n.line_b))]),a("text",{staticClass:"SpotScanOutTable_line_c"},[t._v(t._s(t.i18n.line_c))]),a("text",{staticClass:"SpotScanOutTable_line_d"},[t._v(t._s(t.i18n.line_d))]),a("text",{staticClass:"SpotScanOutTable_line_e"},[t._v(t._s(t.i18n.line_e))])]),t._l(t.SpotScanOutTable_data,function(e,o){return a("view",{key:o,staticClass:"SpotScanOutTable_th"},[a("text",{staticClass:"SpotScanOutTable_line_a"},[t._v(t._s(o+1))]),a("text",{staticClass:"SpotScanOutTable_line_b"},[t._v(t._s(e.barCode))]),a("text",{staticClass:"SpotScanOutTable_line_c"},[t._v(t._s(e.locationCode))]),a("text",{staticClass:"SpotScanOutTable_line_d"},[t._v(t._s(e.qty))]),a("text",{staticClass:"SpotScanOutTable_line_e"},[t._v(t._s(e.outstockQty))])])})],2):t._e(),0==t.ifshow?a("view",[a("view",{staticClass:"SpotScanOutTable_th"},[a("text",{staticClass:"SpotScanOutTable_line_a"},[t._v(t._s(t.i18n.line_a))]),a("text",{staticClass:"SpotScanOutTable_line_c"},[t._v(t._s(t.i18n.line_c))]),a("text",{staticClass:"SpotScanOutTable_line_d"},[t._v(t._s(t.i18n.line_d))]),a("text",{staticClass:"SpotScanOutTable_line_e"},[t._v(t._s(t.i18n.line_e))])]),t._l(t.SpotScanOutTable_data,function(e,o){return a("view",{key:o,staticClass:"SpotScanOutTable_th"},[a("text",{staticClass:"SpotScanOutTable_line_a"},[t._v(t._s(o+1))]),a("text",{staticClass:"SpotScanOutTable_line_c"},[t._v(t._s(e.locationCode))]),a("text",{staticClass:"SpotScanOutTable_line_d"},[t._v(t._s(e.qty))]),a("text",{staticClass:"SpotScanOutTable_line_e"},[t._v(t._s(e.outstockQty))])])})],2):t._e()])},n=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return n})}},[["aa74","common/runtime","common/vendor"]]]);