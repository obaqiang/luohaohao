(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/SplitBarcode/SplitBarcode"],{"01c5":function(t,e,a){},"15bc":function(t,e,a){"use strict";a.r(e);var i=a("69e1"),n=a("d38c");for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a("4e29");var o=a("2877"),u=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=u.exports},"1f46":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:["picker_data"],computed:{i18n:function(){return this.$t("SplitBarcode")}},watch:{picker_data:{handler:function(t,e){console.log("得到的数据"),console.log(t)},immediate:!0}},data:function(){return{down_hook:"../../static/img/down_hook.png",index:0,range_data:this.picker_data}},methods:{bindPickerChange:function(t){this.index=t.target.value;for(var e=0;e<this.range_data.length;e++)this.$emit("bindPickerChange",this.range_data[this.index].labelTypeCode)}},onLoad:function(){}};e.default=i},"2c85":function(t,e,a){"use strict";a.r(e);var i=a("4444"),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e["default"]=n.a},3419:function(t,e,a){"use strict";a("72e6");var i=r(a("b0ce")),n=r(a("fa2b"));function r(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(n.default))},"43d2":function(t,e,a){"use strict";a.r(e);var i=a("f4d6"),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e["default"]=n.a},4444:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:["GetOutSourcePickDetail_data_detail_send","SpitBarcode"],computed:{materialCode:function(){return this.GetOutSourcePickDetail_data_detail_send.materialCode},materialName:function(){return this.GetOutSourcePickDetail_data_detail_send.materialName},prQty:function(){return this.GetOutSourcePickDetail_data_detail_send.prQty},qty:function(){return this.GetOutSourcePickDetail_data_detail_send.qty},warehouseName:function(){return this.GetOutSourcePickDetail_data_detail_send.warehouseName},DetailId:function(){return this.GetOutSourcePickDetail_data_detail_send.DetailId},storageQty:function(){return this.GetOutSourcePickDetail_data_detail_send.storageQty},i18n:function(){return this.$t("SplitBarcode")}},data:function(){return{}}};e.default=i},"4e29":function(t,e,a){"use strict";var i=a("58b0"),n=a.n(i);n.a},5162:function(t,e,a){},"52c4":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:"user_info_list"},[a("text",[t._v(t._s(t.i18n.printer_model)+":")]),a("view",{staticClass:"pic_input"},[a("picker",{staticClass:"organize_picker",attrs:{value:t.index,range:t.range_data,"range-key":"labelTypeName",eventid:"4a6b33d6-0"},on:{change:t.bindPickerChange}},[a("view",{staticClass:"uni-input pic_input_in"},[t._v(t._s(t.range_data[t.index].labelTypeName))])]),a("image",{staticClass:"down_hook",attrs:{src:t.down_hook}})],1)])])},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},"58b0":function(t,e,a){},"60c7":function(t,e,a){"use strict";var i=a("5162"),n=a.n(i);n.a},"62aa":function(t,e,a){"use strict";var i=a("f9a2"),n=a.n(i);n.a},"67d6":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"SplitBarcode_area",staticStyle:{"padding-top":"20rpx"}},[a("SpotScanOutHead",{attrs:{GetOutSourcePickDetail_data_detail_send:t.GetOutSourcePickDetail_data_detail_send,status_send:t.status_send,mpcomid:"e92f277c-0"}}),a("SplitBarcodeBody",{attrs:{GetOutSourcePickDetail_data_detail_send:t.GetOutSourcePickDetail_data_detail_send,SpitBarcode:t.SpitBarcode,mpcomid:"e92f277c-1"}}),t.picker_data_show?a("PrintTemplatePick",{attrs:{picker_data:t.picker_data,eventid:"e92f277c-0",mpcomid:"e92f277c-2"},on:{bindPickerChange:t.bindPickerChange}}):t._e(),a("view",{staticClass:"common_bg_line",staticStyle:{"margin-bottom":"20rpx"}}),a("bindScanInput",{attrs:{scan_input_text:t.i18n.scan_input_text,scan_icon_show:!1,input_focus:t.input_focus,placeholder_text:t.i18n.placeholder_text,eventid:"e92f277c-1",mpcomid:"e92f277c-3"},on:{input:t.onInput,work:t.work},model:{value:t.split_num,callback:function(e){t.split_num=e},expression:"split_num"}}),a("view",{staticClass:"body_list"},[a("text",{staticClass:"text_a"},[t._v(t._s(t.i18n.text_d)+":")]),a("view",{staticClass:"text_right_area"},[a("text",[t._v(t._s(t.SpitBarcode))])])]),a("view",{staticClass:"common_grey_title",staticStyle:{"margin-top":"20rpx"}},[t._v(t._s(t.i18n.text_a))]),a("printerList",{attrs:{eventid:"e92f277c-2",mpcomid:"e92f277c-4"},on:{printer_suc:t.printer_suc}}),t.loading_wait_show?a("loadingWait",{attrs:{mpcomid:"e92f277c-5"}}):t._e(),a("view",{staticClass:"btn_bot"},[a("button",{attrs:{eventid:"e92f277c-3"},on:{tap:t.sureWork}},[t._v(t._s(t.i18n.text_b))]),a("button",{attrs:{eventid:"e92f277c-4"},on:{tap:t.cancelWork}},[t._v(t._s(t.i18n.text_c))])],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},"69e1":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"printer_list_area"},[a("view",{staticClass:"printer_list",attrs:{eventid:"76f8c4b5-0"},on:{tap:t.Print}},[t._v("打印机1")]),a("view",{staticClass:"printer_list",attrs:{eventid:"76f8c4b5-1"},on:{tap:t.Print}},[t._v("打印机2")]),a("view",{staticClass:"printer_list",attrs:{eventid:"76f8c4b5-2"},on:{tap:t.Print}},[t._v("打印机3")])])},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},"7ab5":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"mes_area"},[a("view",{staticClass:"mes_list"},[a("text",[t._v(t._s(t.i18n.mes_list_b)+":")]),a("text",[t._v(t._s(t.storageQty))])])])},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},"8d77":function(t,e,a){"use strict";a.r(e);var i=a("7ab5"),n=a("2c85");for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a("60c7");var o=a("2877"),u=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=u.exports},ab92:function(t,e,a){"use strict";var i=a("01c5"),n=a.n(i);n.a},c8c4:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={computed:{GetOutSourcePickDetail_data_detail:function(){return t.getStorageSync("GetOutSourcePickDetail_data_detail")},materialCode:function(){return t.getStorageSync("GetOutSourcePickDetail_data_detail").materialCode},materialName:function(){return t.getStorageSync("GetOutSourcePickDetail_data_detail").materialName},prQty:function(){return t.getStorageSync("GetOutSourcePickDetail_data_detail").prQty},qty:function(){return t.getStorageSync("GetOutSourcePickDetail_data_detail").qty},warehouseName:function(){return t.getStorageSync("GetOutSourcePickDetail_data_detail").warehouseName},DetailId:function(){return t.getStorageSync("GetOutSourcePickDetail_data_detail").id}},data:function(){return{}},methods:{Print:function(){this.$emit("printer_suc",!0)}}};e.default=a}).call(this,a("6e42")["default"])},d38c:function(t,e,a){"use strict";a.r(e);var i=a("c8c4"),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e["default"]=n.a},e549:function(t,e,a){"use strict";a.r(e);var i=a("52c4"),n=a("f504");for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a("ab92");var o=a("2877"),u=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=u.exports},f4d6:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=l(a("94b0")),n=l(a("2ca8")),r=l(a("fbdb")),o=l(a("8d77")),u=l(a("1ea7")),c=l(a("15bc")),s=l(a("e549")),d=a("2f62");function l(t){return t&&t.__esModule?t:{default:t}}function _(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},i=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),i.forEach(function(e){p(t,e,a[e])})}return t}function p(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var f={components:{loadingWait:r.default,SpotScanOutHead:i.default,SwitchTitle:n.default,SplitBarcodeBody:o.default,bindScanInput:u.default,printerList:c.default,PrintTemplatePick:s.default},computed:{connect_url:function(){return this.$store.state.connect_url},current_language:function(){return this.$store.state.current_language},post_header:function(){return this.$store.state.post_header},i18n:function(){return this.$t("SplitBarcode")},i18n_modal:function(){return this.$t("modal_text")},MAC:function(){return this.$store.state.MAC},DetailId:function(){return t.getStorageSync("GetOutSourcePickDetail_data_detail").id},Barcode:function(){return t.getStorageSync("Barcode")},LocationCode:function(){return t.getStorageSync("LocationCode")},OutgoingOperation_permissionCode:function(){return t.getStorageSync("OutgoingOperation_permissionCode")},GetOutSourcePickDetail_data_detail:function(){return t.getStorageSync("GetOutSourcePickDetail_data_detail")}},watch:{GetOutSourcePickDetail_data_detail:{handler:function(t,e){this.GetOutSourcePickDetail_data_detail_send=t,this.split_num=t.spitQty},immediate:!0}},data:function(){return{switch_title_head_right_text:"",isShowAll:!1,input_focus:"",placeholder_text:"",split_num:"",loading_wait_show:!1,picker_data:"",RuleCode:"SPIT",Count:"1",SpitBarcode:"",PrintTemplate:"",SpitQty:"",SpitOutstock_url:"",GetOutSourcePickDetail_data_detail_send:"",picker_data_show:!1,status_send:""}},methods:_({},(0,d.mapMutations)(["MacInfo"]),(0,d.mapMutations)(["ErrRequestShow"]),{bindPickerChange:function(t){console.log(t),this.PrintTemplate=t},onInput:function(t){this.scan_input_foc=!0,this.SpitQty=t},work:function(t){},printer_suc:function(){this.GenerateBarcode()},sureWork:function(){var t=this;t.SpitOutstock()},cancelWork:function(){t.navigateBack({})},GetLabelStyle:function(){var e=this;e.loading_wait_show=!0;var a="api/services/wmspda/Label/GetLabelStyle";t.request({url:e.connect_url+a,data:{MAC:e.MAC},method:"POST",header:e.post_header,success:function(t){console.log(t.data),e.loading_wait_show=!1,e.ErrRequestShow(t),1==t.data.success&&(e.picker_data=t.data.result,e.picker_data_show=!0,e.PrintTemplate=e.picker_data[0].labelTypeCode)}})},GenerateBarcode:function(){var e=this;e.loading_wait_show=!0,t.request({url:e.connect_url+"api/services/wmspda/Barcode/GenerateBarcode",data:{MAC:e.MAC,RuleCode:e.RuleCode,Count:e.Count},method:"POST",header:e.post_header,success:function(a){console.log(a.data),e.loading_wait_show=!1,e.ErrRequestShow(a),1==a.data.success&&(e.SpitBarcode=a.data.result.barcodes[0],t.showToast({icon:"none",title:e.i18n.toast_text_a,duration:3e3}))}})},SpitOutstock:function(){var e=this;e.loading_wait_show=!0,t.request({url:e.connect_url+e.SpitOutstock_url,data:{MAC:e.MAC,DetailId:e.DetailId,Barcode:e.Barcode,LocationCode:e.LocationCode,SpitBarcode:e.SpitBarcode,PrintTemplate:e.PrintTemplate,SpitQty:e.split_num},method:"POST",header:e.post_header,success:function(a){if(console.log(a.data),e.loading_wait_show=!1,e.ErrRequestShow(a),1==a.data.success){var i=t.getStorageSync("GetOutSourcePickDetail_data_detail");if(i.prQty=a.data.result.prQty,i.qty=a.data.result.qty,t.setStorageSync("GetOutSourcePickDetail_data_detail",i),a.data.qty>a.data.prqty||a.data.qty==a.data.prqty){e.status_send=a.data.result.status;var n=t.getStorageSync("BillCodeDetail");n.status=a.data.result.status,t.setStorageSync("BillCodeDetail",n),t.navigateBack({delta:2})}else{e.status_send=a.data.result.lineStatus;var r=t.getStorageSync("BillCodeDetail");r.status=a.data.result.lineStatus,t.setStorageSync("BillCodeDetail",r),t.navigateBack({delta:1})}}}})}}),onLoad:function(){var e=this;e.status_send=t.getStorageSync("BillCodeDetail").status,"Pages.WPDA.OutStock.Outsource.OutsourcePick"==e.OutgoingOperation_permissionCode?(e.SpitOutstock_url="api/services/wmspda/OutSourcePick/SpitOutstock",e.i18n.page_title_a):"Pages.WPDA.OutStock.Outsource.OutsourceFeed"==e.OutgoingOperation_permissionCode?(e.SpitOutstock_url="api/services/wmspda/OutSourceFeed/SpitOutstock",e.i18n.page_title_b):"Pages.WPDA.OutStock.Product.ProductPick"==e.OutgoingOperation_permissionCode?(e.SpitOutstock_url="api/services/wmspda/ProductPick/SpitOutstock",e.i18n.page_title_c):"Pages.WPDA.OutStock.Product.ProductFeed"==e.OutgoingOperation_permissionCode?(e.SpitOutstock_url="api/services/wmspda/ProductFeed/SpitOutstock",e.i18n.page_title_d):"Pages.WPDA.OutStock.Integrated.OtherOutstock"==e.OutgoingOperation_permissionCode?(e.SpitOutstock_url="api/services/wmspda/OtherOutstock/SpitOutstock",e.i18n.page_title_e):"Pages.WPDA.OutStock.Integrated.PoReturn"==e.OutgoingOperation_permissionCode?(e.SpitOutstock_url="api/services/wmspda/PoReturn/SpitOutstock",e.i18n.page_title_f):"Pages.WPDA.OutStock.Sales.SalesOutstock"==e.OutgoingOperation_permissionCode?(e.SpitOutstock_url="api/services/wmspda/SalesOutstock/SpitOutstock",e.i18n.page_title_g):"Pages.WPDA.StockIn.TransferAdjust.OutTransfer"==e.OutgoingOperation_permissionCode||"Pages.WPDA.OutStock.Product.ProductTransferOut"==e.OutgoingOperation_permissionCode||"Pages.WPDA.OutStock.Outsource.OutstouceTransferOut"==e.OutgoingOperation_permissionCode?(e.SpitOutstock_url="api/services/wmspda/OutTransfer/SpitOutstock",e.i18n.page_title_h):"Pages.WPDA.StockIn.Convert.OutConvert"==e.OutgoingOperation_permissionCode&&(e.SpitOutstock_url="api/services/wmspda/OutTransfer/SpitOutstock"),t.setNavigationBarTitle({title:this.i18n.page_title}),this.GetLabelStyle()}};e.default=f}).call(this,a("6e42")["default"])},f504:function(t,e,a){"use strict";a.r(e);var i=a("1f46"),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e["default"]=n.a},f9a2:function(t,e,a){},fa2b:function(t,e,a){"use strict";a.r(e);var i=a("67d6"),n=a("43d2");for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a("62aa");var o=a("2877"),u=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=u.exports}},[["3419","common/runtime","common/vendor"]]]);