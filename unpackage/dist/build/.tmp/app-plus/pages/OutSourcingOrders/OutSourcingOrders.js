(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/OutSourcingOrders/OutSourcingOrders"],{"0953":function(t,e,o){"use strict";o.r(e);var i=o("1b6d"),n=o("df9f");for(var s in n)"default"!==s&&function(t){o.d(e,t,function(){return n[t]})}(s);o("d8e6");var u=o("2877"),r=Object(u["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=r.exports},"1b6d":function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("view",[o("bindScanInput",{attrs:{scan_input_text:t.order,scan_icon_show:!0,input_focus:t.scan_input_foc_a,placeholder_text:t.order_text,eventid:"1ad3e3da-0",mpcomid:"1ad3e3da-0"},on:{input:t.onInputA,work:t.scanAInputSuc}}),t.SupplierCode_show?o("bindScanInput",{attrs:{scan_input_text:t.supplier,scan_icon_show:!0,input_focus:t.scan_input_foc_b,placeholder_text:t.supplier_text,eventid:"1ad3e3da-1",mpcomid:"1ad3e3da-1"},on:{input:t.onInputB,work:t.scanBInputSuc}}):t._e(),t.DeptCode_show?o("bindScanInput",{attrs:{scan_input_text:t.dept,scan_icon_show:!0,input_focus:t.scan_input_foc_b,placeholder_text:t.dept_text,eventid:"1ad3e3da-2",mpcomid:"1ad3e3da-2"},on:{input:t.onInputB,work:t.scanBInputSuc}}):t._e(),t.input_date_show?o("bindDateInput",{attrs:{date_text:t.i18n.date_text,eventid:"1ad3e3da-3",mpcomid:"1ad3e3da-3"},on:{choDate:t.choDate}}):t._e(),o("button",{staticClass:"common_btn_fb",attrs:{eventid:"1ad3e3da-4"},on:{tap:t.goSearch}},[t._v(t._s(t.i18n.search))]),o("scroll-view",{staticClass:"scroll-Y",attrs:{"scroll-top":t.scrollTop,"scroll-y":"true",eventid:"1ad3e3da-6"},on:{scrolltoupper:t.upper,scrolltolower:t.lower,scroll:t.scroll}},[t._l(t.result_list,function(e,i){return o("view",{key:i,staticClass:"purchase_list",attrs:{eventid:"1ad3e3da-5-"+i},on:{tap:function(o){t.goDetail(e.billCode)}}},[o("view",{staticClass:"purchase_list_a"},[o("text",[t._v(t._s(e.billCode))]),o("text",[t._v(t._s(e.creationTime))]),t.input_date_show?o("text",[t._v(t._s(e.billDate))]):t._e()]),t.SupplierCode_show?o("view",{staticClass:"purchase_list_b"},[t._v(t._s(e.supplierName))]):t._e(),t.DeptCode_show?o("view",{staticClass:"purchase_list_b"},[t._v(t._s(e.deptName))]):t._e()])}),t.bottomCountArea_show?o("bottomCountArea",{attrs:{count:t.count,mpcomid:"1ad3e3da-4"}}):t._e()],2),t.loading_wait_show?o("loadingWait",{attrs:{mpcomid:"1ad3e3da-5"}}):t._e()],1)},n=[];o.d(e,"a",function(){return i}),o.d(e,"b",function(){return n})},"6d11":function(t,e,o){},"7b61":function(t,e,o){"use strict";o("72e6");var i=s(o("b0ce")),n=s(o("0953"));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(n.default))},d8e6:function(t,e,o){"use strict";var i=o("6d11"),n=o.n(i);n.a},da86:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(o("1ea7")),n=a(o("85c9")),s=a(o("fbdb")),u=a(o("4794")),r=o("2f62");function a(t){return t&&t.__esModule?t:{default:t}}function c(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},i=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),i.forEach(function(e){l(t,e,o[e])})}return t}function l(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var d={components:{loadingWait:s.default,bindScanInput:i.default,bindDateInput:n.default,bottomCountArea:u.default},data:function(){return{order:"",order_text:"",supplier:"",supplier_text:"",BillCode:"",SupplierCode:"",Type:"",result_list:"",loading_wait_show:!1,scan_input_foc_a:!0,scan_input_foc_b:!1,GetOutSourcePick_url:"",DeptCode:"",SupplierCode_show:!1,DeptCode_show:!1,dept:"",dept_text:"",input_date_show:!1,BillDate:"",BizType:"",scrollTop:0,old:{scrollTop:0},count:"",bottomCountArea_show:!1,MaxResultCount:10,SkipCount:0,scroll_items:[]}},computed:{connect_url:function(){return this.$store.state.connect_url},current_language:function(){return this.$store.state.current_language},post_header:function(){return this.$store.state.post_header},i18n:function(){return this.$t("OutSourcingOrders")},i18n_modal:function(){return this.$t("modal_text")},MAC:function(){return this.$store.state.MAC},OutgoingOperation_permissionCode:function(){return t.getStorageSync("OutgoingOperation_permissionCode")}},methods:c({},(0,r.mapMutations)(["MacInfo"]),(0,r.mapMutations)(["changeToken"]),(0,r.mapMutations)(["changeOrgId"]),(0,r.mapMutations)(["ErrRequestShow"]),{upper:function(t){console.log(t)},lower:function(t){this.SkipCount+=10,this.GetOutSourcePick()},scroll:function(t){this.old.scrollTop=t.detail.scrollTop},initInputStatus:function(){this.scan_input_foc_a=!1,this.scan_input_foc_b=!1},onInputA:function(t){this.initInputStatus(),this.scan_input_foc_a=!0,this.BillCode=t},onInputB:function(t){this.initInputStatus(),this.scan_input_foc_b=!0,this.SupplierCode_show?this.SupplierCode=t:this.DeptCode=t},choDate:function(t){this.BillDate=t,console.log(this.BillDate)},GetOutSourcePick:function(){var e=this;e.loading_wait_show=!0,t.request({url:e.connect_url+e.GetOutSourcePick_url,data:{BillCode:e.BillCode,SupplierCode:e.SupplierCode,DeptCode:e.DeptCode,MAC:e.MAC,BillDate:e.BillDate,BizType:e.BizType,MaxResultCount:e.MaxResultCount,SkipCount:e.SkipCount},method:"POST",header:e.post_header,success:function(t){if(console.log(t.data),e.loading_wait_show=!1,e.ErrRequestShow(t),1==t.data.success){if(0==e.SkipCount&&(e.scroll_items=[]),0==t.data.result.items.length)e.count="",e.bottomCountArea_show=!0;else{var o=t.data.result.totalCount,i=e.MaxResultCount+e.SkipCount;for(var n in i<o&&(e.count=o-i,e.bottomCountArea_show=!0),e.scroll_items=e.scroll_items.concat(t.data.result.items),e.scroll_items)e.scroll_items[n].billDate&&(e.scroll_items[n].billDate=e.scroll_items[n].billDate.slice(0,10)),e.scroll_items[n].creationTime&&(e.scroll_items[n].creationTime=e.scroll_items[n].creationTime.slice(0,10))}e.result_list=e.scroll_items}}})},goDetail:function(e){for(var o=this,i=0;i<o.result_list.length;i++)e==o.result_list[i].billCode&&(t.setStorageSync("BillCodeDetail",o.result_list[i]),t.setStorageSync("BillId",o.result_list[i].id));t.setStorageSync("BillCode",e),"Pages.WPDA.Instock.Storage.ProductTransferIn"==o.OutgoingOperation_permissionCode?t.navigateTo({url:"../Warehousing/Warehousing"}):t.navigateTo({url:"../ItemInventoryOut/ItemInventoryOut"})},goSearch:function(){var e=this;""==e.BillCode&&""==e.SupplierCode&&""==e.DeptCode?t.showModal({title:this.i18n_modal.modal_title_text,content:this.i18n.alert_data_a}):e.GetOutSourcePick()},scanAInputSuc:function(t){this.initInputStatus(),this.scan_input_foc_b=!0,this.goSearch()},scanBInputSuc:function(t){this.initInputStatus(),this.scan_input_foc_a=!0}}),onLoad:function(){var e=this,o="";console.log(e.OutgoingOperation_permissionCode),"Pages.WPDA.OutStock.Outsource.OutsourcePick"==e.OutgoingOperation_permissionCode?(e.SupplierCode_show=!0,e.GetOutSourcePick_url="api/services/wmspda/OutSourcePick/GetOutSourcePick",o=this.i18n.page_title_pick):"Pages.WPDA.OutStock.Outsource.OutsourceFeed"==e.OutgoingOperation_permissionCode?(e.SupplierCode_show=!0,e.GetOutSourcePick_url="api/services/wmspda/OutSourceFeed/GetOutSourceFeed",o=this.i18n.page_title_feed):"Pages.WPDA.OutStock.Product.ProductPick"==e.OutgoingOperation_permissionCode?(e.DeptCode_show=!0,e.GetOutSourcePick_url="api/services/wmspda/ProductPick/GetProductPick",o=this.i18n.page_title_ProductPick):"Pages.WPDA.OutStock.Product.ProductFeed"==e.OutgoingOperation_permissionCode?(e.DeptCode_show=!0,e.GetOutSourcePick_url="api/services/wmspda/ProductFeed/GetProductFeed",o=this.i18n.page_title_ProductFeed):"Pages.WPDA.OutStock.Integrated.OtherOutstock"==e.OutgoingOperation_permissionCode?(e.GetOutSourcePick_url="api/services/wmspda/OtherOutstock/GetOtherOutstock",o=this.i18n.page_title_OtherOutstock):"Pages.WPDA.OutStock.Integrated.PoReturn"==e.OutgoingOperation_permissionCode?(e.GetOutSourcePick_url="api/services/wmspda/PoReturn/GetPoReturn",o=this.i18n.page_title_PoReturn):"Pages.WPDA.OutStock.Sales.SalesOutstock"==e.OutgoingOperation_permissionCode?(e.GetOutSourcePick_url="api/services/wmspda/SalesOutstock/GetSalesOutstock",o=this.i18n.page_title_SalesOutstock):"Pages.WPDA.OutStock.Product.ProductTransferOut"==e.OutgoingOperation_permissionCode||e.OutgoingOperation_permissionCode;var i=t.getStorageSync("title_permissionName");""!=i&&(o=i),t.setNavigationBarTitle({title:o}),this.order=this.i18n.order_numbers,this.order_text=this.i18n.order_text,this.supplier=this.i18n.supplier,this.supplier_text=this.i18n.supplier_text,this.dept=this.i18n.dept,this.dept_text=this.i18n.dept_text}};e.default=d}).call(this,o("6e42")["default"])},df9f:function(t,e,o){"use strict";o.r(e);var i=o("da86"),n=o.n(i);for(var s in i)"default"!==s&&function(t){o.d(e,t,function(){return i[t]})}(s);e["default"]=n.a}},[["7b61","common/runtime","common/vendor"]]]);