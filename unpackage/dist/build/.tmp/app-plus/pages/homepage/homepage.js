(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/homepage/homepage"],{1675:function(t,e,o){"use strict";var a=o("90dd"),s=o.n(a);s.a},4644:function(t,e,o){"use strict";o.r(e);var a=o("8de9"),s=o("584b");for(var i in s)"default"!==i&&function(t){o.d(e,t,function(){return s[t]})}(i);o("1675");var n=o("2877"),r=Object(n["a"])(s["default"],a["a"],a["b"],!1,null,null,null);e["default"]=r.exports},"584b":function(t,e,o){"use strict";o.r(e);var a=o("6def"),s=o.n(a);for(var i in a)"default"!==i&&function(t){o.d(e,t,function(){return a[t]})}(i);e["default"]=s.a},"6def":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o("2f62"),s=i(o("d33f"));function i(t){return t&&t.__esModule?t:{default:t}}function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},a=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),a.forEach(function(e){r(t,e,o[e])})}return t}function r(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var c={components:{showModal:s.default},data:function(){return{home_banner:"../../static/img/home_banner.png",scanscan:"../../static/img/scanscan.png",home_today_in_stock:"../../static/img/home_today_in_stock.png",home_today_out_stock:"../../static/img/home_today_out_stock.png",home_in_stock:"../../static/img/home_in_stock.png",home_out_stock:"../../static/img/home_out_stock.png",home_stock_in_work:"../../static/img/home_stock_in_work.png",home_quality:"../../static/img/home_quality.png",home_query:"../../static/img/home_query.png",ifshowmodal:!1,show_modal_header:"这是header",show_modal_body:"这是body",module_a:!1,module_a_text:"",module_b:!1,module_b_text:"",module_c:!1,module_c_text:"",module_d:!1,module_d_text:"",module_e:!1,module_e_text:"",instockCount:"",outstockCount:"",interval:""}},onNavigationBarButtonTap:function(){t.scanCode({success:function(t){}})},computed:{i18n:function(){return this.$t("homepage")},connect_url:function(){return this.$store.state.connect_url},current_language:function(){return this.$store.state.current_language},post_header:function(){return this.$store.state.post_header},MAC:function(){return this.$store.state.MAC},childPermissions:function(){return this.$store.state.childPermissions}},watch:{childPermissions:{handler:function(t,e){this.loadPage()},immediate:!0}},methods:n({},(0,a.mapMutations)(["MacInfo"]),(0,a.mapMutations)(["changeToken"]),(0,a.mapMutations)(["changeOrgId"]),(0,a.mapMutations)(["ErrRequestShow"]),{scanCode:function(){t.scanCode({success:function(t){}})},success:function(){this.ifshowmodal=!this.ifshowmodal},gotoWarehousingOperation:function(){t.navigateTo({url:"../WarehousingOperation/WarehousingOperation"})},gotoOutgoingOperation:function(){t.navigateTo({url:"../OutgoingOperation/OutgoingOperation"})},gotoInLibraryOperation:function(){t.navigateTo({url:"../InLibraryOperation/InLibraryOperation"})},gotoQualityOperation:function(){t.navigateTo({url:"../QualityOperation/QualityOperation"})},gotoStockCheck:function(){t.navigateTo({url:"../StockCheckTable/StockCheckTable"})},loadPage:function(){var t=this;t.module_a=!1,t.module_b=!1,t.module_c=!1,t.module_d=!1,t.module_e=!1;for(var e=0;e<t.childPermissions.length;e++)"Pages.WPDA.InStock"==t.childPermissions[e].permissionCode?(t.module_a=!0,t.module_a_text=t.childPermissions[e].permissionName):"Pages.WPDA.OutStock"==t.childPermissions[e].permissionCode?(t.module_b=!0,t.module_b_text=t.childPermissions[e].permissionName):"Pages.WPDA.StockIn"==t.childPermissions[e].permissionCode?(t.module_c=!0,t.module_c_text=t.childPermissions[e].permissionName):"Pages.WPDA.QualityJob"==t.childPermissions[e].permissionCode?(t.module_d=!0,t.module_d_text=t.childPermissions[e].permissionName):"Pages.WPDA.IntegratedQuery"==t.childPermissions[e].permissionCode&&(t.module_e=!0,t.module_e_text=t.childPermissions[e].permissionName)},GetTodayInOutSummary:function(){var e=this;e.loading_wait_show=!0,t.request({url:e.connect_url+"api/services/wmspda/TodayInOutSummary/GetTodayInOutSummary",data:{MAC:e.MAC},method:"POST",header:e.post_header,success:function(t){e.loading_wait_show=!1,console.log(t.data),e.ErrRequestShow(t),1==t.data.success?(e.instockCount=t.data.result.instockCount,e.outstockCount=t.data.result.outstockCount):(console.log("qingchu"),clearInterval(e.interval))}})},GetParameters:function(){var e=this;e.loading_wait_show=!0,t.request({url:e.connect_url+"api/services/wmspda/Parameter/GetParameters",data:{SystemType:"WMS"},method:"POST",header:e.post_header,success:function(o){if(e.loading_wait_show=!1,console.log(o.data),e.ErrRequestShow(o),1==o.data.success)for(var a=o.data.result,s=0;s<a.length;s++)"BarcodeAllowMultiLocation"==a[s].key&&(0==a[s].value?t.setStorageSync("BarcodeAllowMultiLocation_show",!1):t.setStorageSync("BarcodeAllowMultiLocation_show",!0))}})}}),onLoad:function(){t.setNavigationBarTitle({title:this.i18n.homepage_title}),t.setTabBarItem({index:0,text:this.i18n.homepage_bar_a}),t.setTabBarItem({index:1,text:this.i18n.homepage_bar_b});var e=this;e.GetTodayInOutSummary(),e.interval=setInterval(function(){console.log(123),e.GetTodayInOutSummary()},3e5),e.GetParameters(),e.loadPage()}};e.default=c}).call(this,o("6e42")["default"])},"8de9":function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("view",[o("image",{staticClass:"homebanner",attrs:{src:t.home_banner}}),o("view",{staticClass:"head_list_area"},[o("view",{staticClass:"head_list"},[t._v(t._s(t.i18n.today_in)),o("image",{staticClass:"banner_icon",attrs:{src:t.home_today_in_stock}})]),o("view",{staticClass:"head_list"},[t._v(t._s(t.i18n.today_out)),o("image",{staticClass:"banner_icon",attrs:{src:t.home_today_out_stock}})])]),o("view",{staticClass:"head_list_area"},[o("view",{staticClass:"head_list"},[o("text",{staticClass:"head_list_text"},[t._v(t._s(t.instockCount))]),t._v(t._s(t.i18n.deals))]),o("view",{staticClass:"head_list"},[o("text",{staticClass:"head_list_text"},[t._v(t._s(t.outstockCount))]),t._v(t._s(t.i18n.deals))])]),o("view",{staticClass:"module_area"},[t.module_a?o("view",{staticClass:"module_list",attrs:{eventid:"4abd3cc2-0"},on:{tap:t.gotoWarehousingOperation}},[o("image",{staticClass:"module_list_icon",attrs:{src:t.home_in_stock}}),o("text",[t._v(t._s(t.module_a_text))])]):t._e(),t.module_b?o("view",{staticClass:"module_list",attrs:{eventid:"4abd3cc2-1"},on:{tap:t.gotoOutgoingOperation}},[o("image",{staticClass:"module_list_icon",attrs:{src:t.home_out_stock}}),o("text",[t._v(t._s(t.module_b_text))])]):t._e(),t.module_c?o("view",{staticClass:"module_list",attrs:{eventid:"4abd3cc2-2"},on:{tap:t.gotoInLibraryOperation}},[o("image",{staticClass:"module_list_icon",attrs:{src:t.home_stock_in_work}}),o("text",[t._v(t._s(t.module_c_text))])]):t._e(),t.module_d?o("view",{staticClass:"module_list",attrs:{eventid:"4abd3cc2-3"},on:{tap:t.gotoQualityOperation}},[o("image",{staticClass:"module_list_icon",attrs:{src:t.home_quality}}),o("text",[t._v(t._s(t.module_d_text))])]):t._e(),t.module_e?o("view",{staticClass:"module_list",attrs:{eventid:"4abd3cc2-4"},on:{tap:t.gotoStockCheck}},[o("image",{staticClass:"module_list_icon",attrs:{src:t.home_query}}),o("text",[t._v(t._s(t.module_e_text))])]):t._e()]),t.ifshowmodal?o("showModal",{attrs:{ifshowmodal:t.ifshowmodal,show_modal_header:t.show_modal_header,show_modal_body:t.show_modal_body,eventid:"4abd3cc2-5",mpcomid:"4abd3cc2-0"},on:{success:function(e){t.success()}}}):t._e()],1)},s=[];o.d(e,"a",function(){return a}),o.d(e,"b",function(){return s})},"90dd":function(t,e,o){},a96d:function(t,e,o){"use strict";o("72e6");var a=i(o("b0ce")),s=i(o("4644"));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(s.default))}},[["a96d","common/runtime","common/vendor"]]]);